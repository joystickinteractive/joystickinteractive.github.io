<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Best Practices - Joystick Interactive</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Code for HumansPrefer code which is easy for humans to read. Our business is based on files of (mostly) text. The easier it is for us to read, search, and manipulate these files the better.
Quality de">
<meta property="og:type" content="article">
<meta property="og:title" content="Best Practices">
<meta property="og:url" content="http://joystickinteractive.github.io/dev/2015/07/16/best-practices/index.html">
<meta property="og:site_name" content="Joystick Interactive">
<meta property="og:description" content="Code for HumansPrefer code which is easy for humans to read. Our business is based on files of (mostly) text. The easier it is for us to read, search, and manipulate these files the better.
Quality de">
<meta property="og:updated_time" content="2015-07-16T16:23:57.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Best Practices">
<meta name="twitter:description" content="Code for HumansPrefer code which is easy for humans to read. Our business is based on files of (mostly) text. The easier it is for us to read, search, and manipulate these files the better.
Quality de">
  
  
  <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/dev/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon"></a>
      <a id="logo" class="logo" href="/"></a>
      <nav id="main-nav">
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://joystickinteractive.github.io/dev"></form>
        </div>
      </nav>
    </div>
  </div>
</header>
    <section id="main" class="outer"><article id="post-best-practices" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Best Practices
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/dev/2015/07/16/best-practices/" class="article-date">
  <time datetime="2015-07-16T14:56:14.000Z" itemprop="datePublished">2015-07-16</time>
</a>
      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Code_for_Humans">Code for Humans</h3><p>Prefer code which is easy for humans to read. Our business is based on files of (mostly) text. The easier it is for us to read, search, and manipulate these files the better.</p>
<p>Quality deliverables are essential for professionals. Sloppy or messy deliverables are unprofessional and reflect poorly on the final product and the delivery team. Please remove legacy files, be certain the work is delivered in a clean file system, and in an orderly, logical structure that serves a clear purpose.</p>
<h4 id="Readable_Code">Readable Code</h4><p>When it comes to reading the code, we can have consistent formatting of code within a given project. To easily achieve this, get the machine to help you out. <em>Do</em> use dotfiles such as <code>.editorconfig</code> and <code>.jshintrc</code> to scan your code for compliance. These both have plugins for <a href="https://github.com/sindresorhus/editorconfig-sublime#readme" target="_blank" rel="external">Sublime Text</a> <strong>and</strong> <a href="https://github.com/sindresorhus/atom-editorconfig#readme" target="_blank" rel="external">Atom</a></p>
<p>The exact formatting of code isn’t nearly as important as consistency. So we <em>must not</em> reformat an entire project’s files just to have our own code formatting in place.</p>
<p>Here are our configurations for <a href="https://slack-files.com/T02G6V7FQ-F07A1LDSP-28cfa44c60" target="_blank" rel="external">hinting/linting with JsHint</a> as well as our <a href="https://slack-files.com/T02G6V7FQ-F07A1JNBU-74f9b306dd" target="_blank" rel="external">default editor config</a>. Copy these over into existing projects and any new projects going forward.</p>
<p>All code should look like one person typed it. Using the tools described above will help us achieve this goal.</p>
<h4 id="Searchable_Code">Searchable Code</h4><p>Just two simple rules here that will allow your code to be more searchable:</p>
<ol>
<li>Do not use single letter variable names. Instead, double the letter. So this is <em>bad</em>: <code>var i = &#39;foo&#39;;</code> this is <em>better</em>: <code>var ii = &#39;foo&#39;;</code>. One can search a bunch of files for the string “ii” but you would get too many false matches if searching the files for “i”.</li>
<li>Prefer copy-and-pasted UTF-8 sigils over the character escape versions. So prefer ® to this <code>&amp;#8482;</code> or this <code>&amp;trade;</code> Look it up <a href="http://www.amp-what.com/" target="_blank" rel="external">wherever you go for your character entity lookups</a> and copy/paste the character from there into your code.</li>
</ol>
<h4 id="Keep_all_files_in_a_git_repository-_Publish_to_Github-">Keep all files in a git repository. Publish to Github.</h4><p>If it isn’t in git it doesn’t exist. This is how we make it easy to manipulate files, across the board. It is easier to make a branch and push it to Github, than it is to zip it and send it over slack, or to paste it into Pastebin, or other snippet-sharing sites.</p>
<h3 id="But_Rely_on_Machines_to_do_the_Dumb_Stuff">But Rely on Machines to do the Dumb Stuff</h3><p>WHo wants to spend time fixing indentation of code? Or alphabetizing the CSS rules and properties in the stylesheets? That’s where machines come in. There is a small set of plugins available for any modern editor that <em>we must use</em>.</p>
<h3 id="Markup">Markup</h3><p>Your markup should be <a href="https://en.wikipedia.org/wiki/Semantic_HTML" target="_blank" rel="external">semantic</a> as well as <a href="https://validator.w3.org/" target="_blank" rel="external">valid</a>. It should always use an HTML5 Doctype.</p>
<p>Make sure to use the header tags to delineate an outline of your documents. And keep it to one single <code>&lt;h1&gt;</code> in the document.</p>
<p>Obviously, use tables <em>only for tabular data</em>. And use lists (ordered and unordered) for content which calls for it. Likewise, use definition lists <code>&lt;dl&gt;</code> for anything which is a list of name/value pairs.</p>
<p>When in doubt about the usage of HTML5 tags, <a href="http://html5doctor.com/element-index/" target="_blank" rel="external">consult the descriptions you’ll find on HTML5Doctor</a>.</p>
<p>Also, <em>do</em> use microformats for things like <a href="http://microformats.org/code/hcard/creator" target="_blank" rel="external">phone numbers and addresses</a> as well as <a href="http://microformats.org/code/hcalendar/creator" target="_blank" rel="external">calendar events</a>. Using this technique will give users a much improved experience. Phone numbers will become clickable elements, events will be easy to import into a device’s calendar, by using microformats. Familiarize yourself with the <a href="http://microformats.org/wiki/Main_Page" target="_blank" rel="external">front page of their wiki</a> to find out more about the available formats.</p>
<p>As another favor to the user, <em>do</em> use <code>&lt;label&gt;</code> tags for all form fields, especially in the case of checkboxes and radio-buttons, so that those with fat fingers can easily check off the boxes.</p>
<p>Generally all <code>&lt;script&gt;</code> tags belong at the bottom of the page, just before the closing <code>&lt;/body&gt;</code> tag.</p>
<p>Do not use all caps or all lowercase titles in markup, instead apply the CSS property text-transform:uppercase/lowercase.</p>
<p>It is nice to have HTML comments at the closing of elements, to indicate which tag above is being closed.</p>
<h4 id="Forms">Forms</h4><p>For both semantic and functional reasons, we make full use of the <code>&lt;form&gt;</code> tag for all sections requiring user input. All form <code>action</code> attributes should point to URLs with user-readable content, so they will still work if the form is submitted by the user before JavaScript has loaded on a page, or if JavaScript is broken, disabled, or not supported. This will require that the back-end be able to return a full HTML page for form submission (e.g. registering a new user, editing the quantity in a shopping cart).</p>
<p>Do not nest HTML form elements.</p>
<h4 id="Input_Labels">Input Labels</h4><p>All input fields should be associated with a <code>&lt;label&gt;</code> element. The <code>for</code> attribute of the <code>&lt;label&gt;</code> element should contain the ID of the corresponding input field. This means the input field will receive focus when a user clicks the label and also enables screen readers for sight-impaired users to read out an appropriate description of the input field.</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">label</span> <span class="keyword">for</span>=<span class="string">"home-address"</span>&gt;Home Address&lt;/<span class="keyword">label</span>&gt;</span><br><span class="line">&lt;<span class="keyword">input</span> id=<span class="string">"home-address"</span> <span class="keyword">type</span>=<span class="string">"text"</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="Styling">Styling</h3><p>A reset stylesheet is <em>a must</em>. Our preference is to use <a href="https://necolas.github.io/normalize.css/" target="_blank" rel="external">normalize.css</a>. For highly stylized projects one could make a good argument for preferring the <a href="http://meyerweb.com/eric/tools/css/reset/" target="_blank" rel="external">Meyer Reset</a>. But nothing goes out the door without some type of reset stylesheet.</p>
<p>Prefer classes to IDs when writing your style rules.</p>
<p>Avoid qualifying an ID or class selector with an element. In other words avoid <code>div#some-id</code> and <code>div.some-class</code>. Instead use <code>#some-id</code> and <code>.some-class</code>.</p>
<p>If you specify multiple selectors, it’s a good idea to start each on new line.</p>
<p>Also, prefer <code>kebab-case-class-names</code> for your class names and IDs, <code>camelCase</code> is for JavaScript only.</p>
<p>Unlike HTML, we don’t care so much about validating CSS. But we still want to rely on machines to help tame our CSS so <em>do</em> use tools like <a href="https://github.com/csscomb/sublime-csscomb" target="_blank" rel="external">CSScomb</a>.</p>
<p>Shorthand rules can be difficult to use, but they do save on the number of bytes you must send down the wire. Prefer shorthand where you are providing length values for the four sides of a box, but prefer the long form in the case of background properties.</p>
<p><em>Do not</em> use <code>!important</code>. Ever. The only exception is to override something which is being set by some CSS file which is not under our control.</p>
<p><em>Do</em> understand how browsers <a href="http://specificity.keegan.st/" target="_blank" rel="external">calculate specificity</a>. Know this material just as thoroughly as you know the box model. You should understand the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing" target="_blank" rel="external">box-sizing property</a>.</p>
<h4 id="Prefer_Less/Sass/SCSS_to_Plain-Old_CSS">Prefer Less/Sass/SCSS to Plain-Old CSS</h4><p>A proper project will include a build tool of some sort, and this allows us to prefer Sass or Less to plain-old CSS. Use variables for color palettes and often reused measurements, use <a href="https://github.com/twbs/bootstrap/blob/master/less/mixins.less" target="_blank" rel="external">mixins to package up complex sets of rules</a>.</p>
<h4 id="Units_px_vs-_em_vs-_rem_vs-_%_vs-_vh/vw">Units px vs. em vs. rem vs. % vs. vh/vw</h4><p>Here’s a common question, one which comes up all the time. “What units should I use?”. Perhaps the best reference out there for this <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/length" target="_blank" rel="external">is over on Mozilla.org</a>. The different units fall into three buckets: font-relative, viewport-relative, and absolute lengths.</p>
<p>The rule-of-thumb is to prefer rems to ems, and to only use a px value in cases where you’re working with a binary asset (images and videos mainly).</p>
<p>Percentages are not actually a length, but very useful in developing a responsive site. The new <code>calc()</code> capability is widely supported and also useful in a variety of cases.</p>
<p><em>Do use px</em> for the font-size of the body element.</p>
<h4 id="SVG_and_High_Pixel_Density_Displays">SVG and High Pixel Density Displays</h4><p>There are other good use-cases for SVG (Scalable Vector Graphics) but the big one is for icons on Retina displays.</p>
<h4 id="Spriting">Spriting</h4><p>Use spriting liberally across your work to minimize the number of resources going down the wire. We rely on <a href="https://www.npmjs.com/package/spritesmith" target="_blank" rel="external">spritesmith</a> to work with a Grunt/Gulp build process, in order to kick out spritesheets. If your not using spritesmith there are other options available, <a href="http://www.spritecow.com/" target="_blank" rel="external">SpriteCow</a> for example.</p>
<h4 id="Centering">Centering</h4><p>You should already be well aware of the typical means of horizontally centering elements in CSS</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.class</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">720px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> auto</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>You might be less informed about the means of vertically centering content. Here’s the best way to do this right now:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.exact-middle</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">right</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">bottom</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">margin</span>:<span class="value"> auto</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>For centering text vertically in an element, set its line-height to equal the height of the element containing it, like this:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="id">#horiz-nav</span> <span class="tag">li</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">32px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">line-height</span>:<span class="value"> <span class="number">32px</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="Scripting">Scripting</h3><p>Which specific code formatting convention you follow is not really important. What matters is that you provide a ruleset that is machine-readable and works with any linting/stylechecking tools available in Sublime or Atom. This is where our <a href="https://slack-files.com/T02G6V7FQ-F07A1LDSP-28cfa44c60" target="_blank" rel="external">shared JsHint ruleset</a> comes into play again.</p>
<p>Variables in JavaScript should be <code>camelCase</code>, not <code>kebab-case</code> or <code>snake_case</code>. A class-constructor should be <code>TitleCase</code>.</p>
<p>Do not pollute the global namespace. Use <a href="http://benalman.com/news/2010/11/immediately-invoked-function-expression/" target="_blank" rel="external">IIFE</a>s and objects to keep the count of global variables low.</p>
<p>Try to create functions which can be generalized, take parameters, and return values.</p>
<h4 id="Comments">Comments</h4><p>Even worse than a missing comment, is a misleading comment. So use comments sparingly, and only if you are ready to bear the burden of keeping them current and accurate.</p>
<p>There are some situations where comments are clearly required. Two which come to mind are:</p>
<ol>
<li>Regular expressions. Always comment your RegEx.</li>
<li>Mathematical formulas (and other complex calculations).</li>
</ol>
<p>Remove any commented-out logging/debugging code.</p>
<h4 id="Correctness">Correctness</h4><p>To protect against some hard to debug problems, a dev should adhere to the following:</p>
<ol>
<li>Use strict equality === comparisons</li>
<li>Except…use == to check against null as this catches undefined</li>
<li>Specify the radix parameter when using <code>.parseInt()</code></li>
<li>Pass an object with multiple properties, rather than passing many parameters to a function</li>
<li>Use <code>var self = this</code> to keep a reference to the correct <code>this</code></li>
<li>Express millisecond values in seconds like <code>var timeout = 30 * 1000;</code> rather than <code>var timeout = 30000;</code></li>
<li>Do not modify built-in prototypes</li>
<li>Do not use <code>eval()</code></li>
<li>Do not use <code>with</code></li>
<li>Do not use bitwise operators</li>
</ol>
<p>We abide by the guidelines laid out in <a href="http://amzn.to/1TyamBT" target="_blank" rel="external">Javascript: The Good Parts</a> by Crockford.</p>
<h4 id="Performance">Performance</h4><p>The overarching rule is that performance optimization only comes <em>after</em> program correctness. So make it work and then if needed optimize it. Yet, there are a handful of rules which you should use from the outset, to prevent performance issues from cropping up later.</p>
<p>The two primary performance pitfalls to avoid are 1) looping and 2) DOM manipulation.</p>
<p>To avoid slow loops the following should help</p>
<ol>
<li>Don’t nest loops more than 2 deep.</li>
<li>A plain <code>for</code> loop will always be faster than a <code>$.each()</code> or an <code>_.each()</code>.</li>
<li>If looping across an array <em>do not</em> recalculate the array length each run (see below)</li>
<li>Build a string of markup across a loop and append it to the DOM one time at the end of the loop</li>
<li>Use the <code>async</code> attribute on your <code>&lt;script&gt;</code> tags</li>
</ol>
<p>These looping tips are <em>especially</em> important when the for loop could be run many many times, such as during</p>
<ul>
<li>mouse movement</li>
<li>scrolling</li>
<li>timer intervals</li>
<li>loops within loops</li>
</ul>
<p>When it comes to improving performance while manipulating the DOM understand and follow the tips listed below to prevent triggering reflows of the DOM.</p>
<ol>
<li>Change classes on the element you wish to style (as low in the dom tree as possible)</li>
<li>Avoid setting multiple inline styles</li>
<li>Apply animations to elements that are position fixed or absolute</li>
<li>Trade smoothness for speed</li>
<li>Avoid tables for layout</li>
</ol>
<p><a href="http://www.stubbornella.org/content/2009/03/27/reflows-repaints-css-performance-making-your-javascript-slow/" target="_blank" rel="external">More here</a></p>
<p>Finally, <em>do use</em> the “Audits” tab of Chrome Dev Tools. There is also the online <a href="https://developers.google.com/speed/pagespeed/" target="_blank" rel="external">PageSpeed Tools</a>.</p>
<h4 id="Memorize_These_JS_Patterns">Memorize These JS Patterns</h4><ol>
<li>IIFE <code>(function() { // do stuff })();</code></li>
<li>For loop w/o recalculating array length <code>for (var ii = 0, len = arr.length; ii &lt; len; ii++) { // do stuff }</code></li>
<li><a href="http://yuiblog.com/blog/2007/06/12/module-pattern/" target="_blank" rel="external">The Module Pattern</a></li>
</ol>
<h4 id="jQuery">jQuery</h4><p>Prefix any variable that is a jQuery variable with the dollar sign. So this is bad: <code>var elem = $(&#39;.some-elems&#39;);</code> do it like this instead: <code>var $elem = $(&#39;.some-elems&#39;);</code>.</p>
<p>Cache your jQuery DOM selections, using a variable named according to the rule above.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'li a'</span>).on(<span class="string">'click'</span>, doThings);</span><br><span class="line"><span class="comment">// then you do another DOM selection for the same thing</span></span><br><span class="line">$(<span class="string">'li a'</span>).addClass(<span class="string">'foo'</span>);</span><br><span class="line"><span class="comment">// and you do it AGAIN!</span></span><br><span class="line">$(<span class="string">'li a'</span>).fadeIn();</span><br></pre></td></tr></table></figure>
<p>What you see above is bad. Below is what you should be doing.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $listLinks = $(<span class="string">'li a'</span>);</span><br><span class="line"></span><br><span class="line">$listLinks.on(<span class="string">'click'</span>, doThings);</span><br><span class="line">$listLinks.addClass(<span class="string">'foo'</span>);</span><br><span class="line">$listLinks.fadeIn();</span><br></pre></td></tr></table></figure>
<p>And those in the know might well ask why we’re doing these 3 things in separate steps. Because yes <em>you should</em> chain like mad in your jQuery code. There are times when you cannot, in which case follow what you see above. But when you can, chain like crazy. So you might write it like this instead:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'li a'</span>)</span><br><span class="line">  .on(<span class="string">'click'</span>, doThings);</span><br><span class="line">  .addClass(<span class="string">'foo'</span>);</span><br><span class="line">  .fadeIn();</span><br></pre></td></tr></table></figure>
<p>Also you should be aware of the <code>.end()</code> method in jQuery. It will allow you to move up and down the DOM without using selectors. Say the example above has some <code>&lt;img&gt;</code> tags in the <code>&lt;a&gt;</code> tags you might want to do something to the parent element of the original <code>&lt;li&gt;</code>. <code>.end()</code> will take you right back to the initial selection and allow you to easily move up and down the DOM without additional DOM selections. Here’s an example of this in action.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"li"</span>)</span><br><span class="line">  .hide()</span><br><span class="line">  .find(<span class="string">"a"</span>).text(<span class="string">"Click me"</span>).on(<span class="string">"click"</span>,doThings).end()</span><br><span class="line">  .parent().addClass(<span class="string">"testimonial"</span>).draggable().end()</span><br><span class="line">  .fadeIn(<span class="string">"slow"</span>);</span><br></pre></td></tr></table></figure>
<p>Finally, although the selection engine that comes with jQuery (sizzle) can use most of the latest CSS3 selectors, you may want to avoid those for better performance.</p>
<h3 id="Testing">Testing</h3><p>Nothing goes out without some testing. There are few absolutes in these guidelines, <strong>but this is one</strong>.</p>
<p>A suite of automated Selenium tests with screenshots is an excellent way to get started with automated testing.</p>
<h4 id="Testing_Environments">Testing Environments</h4><p>To say it is difficult to test a site that is constantly changing is an understatement. We prefer working in an environment with 3 different areas:</p>
<ul>
<li>dev</li>
<li>stage</li>
<li>production</li>
</ul>
<p>A <strong>release</strong> moves from dev -&gt; stage and then once tested there, into the production environment. <em>Do not</em> make fiddly little changes when QA is in the middle of testing your work.</p>
<h4 id="Supported_Browsers_&amp;_Devices">Supported Browsers &amp; Devices</h4><p>This is often times dictated by what’s in the Statement of Work (SOW), but when it is not you should target the following devices and browsers.</p>
<ul>
<li>IE 10 / 11</li>
<li>Firefox (latest) (Mac &amp; Windows)</li>
<li>Chrome (latest) (Mac &amp; Windows)</li>
<li>Safari (latest) (Mac)</li>
<li>iOS (latest) (iPhone 5 iOS 7 &amp; iPhone 6 iOS 8)</li>
<li>Android (latest) (Kit Kat (4.4.4) or Lollipop(5.0))</li>
</ul>
<h3 id="Usability">Usability</h3><p>Anything clickable should have hover states. On the other hand, if you have implemented a hover effect, <em>do</em> consider how it will play out on a mobile device.</p>
<p>For touch interfaces, if the index finger is used, the clickable element should be around 50px wide. If the thumb is going to trigger the element, that should be increased to about 70px. <a href="http://www.smashingmagazine.com/2012/02/21/finger-friendly-design-ideal-mobile-touchscreen-target-sizes/" target="_blank" rel="external">More here</a> on these figures.</p>
<p>Twitter Bootstrap is great because it covers accessibility, for those with vision impairment or hearing impairment.</p>
<h3 id="Bug_Tracking">Bug Tracking</h3><p>Our preferred means of tracking issues is <a href="https://joystick.mydonedone.com" target="_blank" rel="external">Done Done</a>. Sometimes clients ask us to use their existing systems though, and there are some who would like to move to Jira for tracking bugs.</p>
<h3 id="Git/Github">Git/Github</h3><p>There’s nothing better than git for tracking changes to your bytes and your files. We are makers of files, and these files are the product we sell. So there’s no one thing as important as these files. It’s why we use git &amp; Github.</p>
<p>There are a couple of different styles of working with git. The first is to spend lots of time changing your working files and putting together all of your work for a handful of fixes or features, finally wrapping them up into one or more commits and pushing them to the remote. The other way of working with git is to make many mindless commits throughout the work day, and then refashion your silly commits into a small set of sensible and logical commits.</p>
<p>Branches should have a ticket number in the name, if working from a list of issues in Jira.</p>
<p><em>Do not</em> use <code>git push --force</code>.</p>
<p>Except for <code>git cherry-pick</code> avoid relying on git commands which feature a hyphen in the name. These kinds of commands are mainly aimed at those implementing changes to git itself, or to projects which are making tools for git. They’re referred to as “plumbing commands” in this <a href="https://git-scm.com/docs" target="_blank" rel="external">excellent cheatsheet of the major git commands</a></p>
<h4 id="Merging">Merging</h4><p>Yes merging is hard. But if you’ve ever tried branching and merging in other source-control tools (SVN I’m looking at you!) then you know it is 10x worse with those tools. Git was made this branching &amp; merging in mind.</p>
<p>When resolving conflics, there’s a good chance you will need to <em>actually speak to the other developer</em>. But this is why we have Slack. So don’t hesitate to reach out to the other dev and ask about their commits which are conflicting with your own.</p>
<p>The routine for merging is a pretty simple process:</p>
<ol>
<li>Do a <code>git status</code> and see which files are in conflict</li>
<li>Edit those files, looking for the conflict markers “&lt;&lt;&lt;&lt;&lt;&lt;&lt;” and “&gt;&gt;&gt;&gt;&gt;&gt;&gt;”</li>
<li>When you’ve fixed the conflicts <code>git add &lt;file&gt;</code></li>
<li>Start again at #1 until all conflict are resolved.</li>
<li><code>git commit</code> - leave out the <code>-m</code> flag note the “merge commit” message and keep it there for future reference</li>
</ol>
<p>There are a couple of other tricks for working through a merge conflict. Here are a couple scenarios.</p>
<ol>
<li>I want all of their commits. Do <code>git checkout --theirs</code></li>
<li>I want all of my commits. Do <code>git checkout --ours</code></li>
<li>I’m confused I want to start over. Do <code>git checkout -m</code> - careful there is no undo with this!</li>
<li>Bail hard. Do <code>git merge --abort</code>. Works with <code>git rebase</code> too.</li>
</ol>
<p>If you <em>still</em> find merging difficult you might want to look into the <code>merge.conflictstyle diff3</code> git configuration option, which presents the conflicts a little differently. You might find this presentation more natural.</p>
<p>And <a href="http://tedfelix.com/software/git-conflict-resolution.html" target="_blank" rel="external">do have a look at this</a> for a comprehensive take on when and how to resolve merge conflicts.</p>
<h4 id="Workflow_(fork-flow)">Workflow (fork-flow)</h4><p>There are many different ways to use git. The main one which we prefer is based on forking repos on Github. Whenever a new developer begins on a project she should fork the existing repository. When she has commits which need to make it into the project, the developer should kick-off a “pull request”. Whoever is the lead on the project is responsible for merging in the pull requests. The “fork-flow” model is the dominant model of collaboration on Github.</p>
<p>The other option is called “<a href="http://nvie.com/posts/a-successful-git-branching-model/" target="_blank" rel="external">git-flow</a>“. This model may work better for some. It is a bit more rigid than the Forkflow model, but with some benefits emerging from this workflow. The basic idea is that there are two branches, “master” and “develop”. The master branch is always able to be deployed. The develop branch contains work towards the next release. And every release is tagged according to <a href="http://semver.org" target="_blank" rel="external">semantic versioning</a> guidelines.</p>
<p>There are a couple of built-in actions that are a part of git-flow. The first is to start/end features. With the git-flow plugin for zsh enabled, a developer kicks off a new bit of work with a command like <code>git flow feature start foo</code>, and finishes off the feature using <code>git flow feature finish foo</code>. The first simply creates a branch off of develop, and names it “feature/foo”. The latter command takes the branch named “feature/foo” and merges it back into develop, then deletes the “feature/foo” branch. The other command which comes with git-flow is for creating releases. This one looks like <code>git flow release start 0.0.2</code> and <code>git flow release finish 0.0.2</code>. The idea here is that you start the new release, publish it to a testing environment, and then finish off the release and deploy, after testing the new release.</p>
<p>You can find out more about these two workflows, by looking <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/forking-workflow" target="_blank" rel="external">here for the fork-flow details</a> and over <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow" target="_blank" rel="external">here for git-flow details</a>. A comparison of the different workflows <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/" target="_blank" rel="external">can be found on the same site</a>.</p>
<p>If you are the Lead Developer and find the number of pull requests to be overwhelming, you <a href="https://github.com/shykes/gordon" target="_blank" rel="external">might look into tools like Gordon</a>.</p>
<h4 id="Sharing_Work">Sharing Work</h4><p>This is done quite easily using branches. If Bob wants to pickup Alice’s latest work, maybe to help out with a quirky bug, it’s as simple as <code>git fetch origin alice</code> and then a <code>git checkout -b alice origin/alice</code>. Then Bob can hack away and commit/push the branch to share these updates with Alice.</p>
<p>When working in the fork-flow model, sharing is a matter of adding <em>remotes</em>. This might be new to you, but the commands are actually quite simple. You use <code>git remote add &lt;name&gt; &lt;url&gt;</code>. <strong>Note</strong> this does not always work great with the office Github app. Just one more reason to use the command-line.</p>
<h4 id="The_Problems_with_Rebase">The Problems with Rebase</h4><p>Rebasing has the potential to change history. And this is in direct opposition to what Version Control Systems are supposed to do. The main problem with rebase is that it is hard for git newbies to learn. And it is dangerous. It seems the main argument in favor of rebasing is to avoid merge commits in the history.</p>
<p>But if you’re relying on <code>git log</code> to tell you what’s been recently done, then you’re <em>not</em> speaking with the other team members often enough.</p>
<p>We cannot all be experts in every tool. To those who are not git experts, rebase is a headache. A <em>big</em> headache.</p>
<p>So please <a href="http://geekblog.oneandoneis2.org/index.php/2013/04/30/please-stay-away-from-rebase" target="_blank" rel="external">stay away from rebase</a>.</p>
<p>“But…but…what if I need changes made to another branch in my own branch?”</p>
<p>Then find those commits using <code>git log</code> and use <code>git cherry-pick &lt;commit&gt;</code> to pluck bits and pieces of another branch onto your own branch.</p>
<p>And to those who aren’t very good with git, let’s look at a couple of things you can do with git which might spur you to learn more…</p>
<h4 id="The_Top_10_Git_Commands_You_(Maybe)_Aren’t_Using">The Top 10 Git Commands You (Maybe) Aren’t Using</h4><ol>
<li>git checkout</li>
<li>git diff</li>
<li>git diff —cached</li>
<li>git checkout -b</li>
<li>git stash</li>
<li>git stash pop</li>
<li>git log</li>
<li>git add</li>
<li>git commit</li>
<li>git blame</li>
<li>git fetch</li>
<li>git cherry-pick</li>
<li>git bisect</li>
</ol>
<h4 id="Stupid_Git_Tricks">Stupid Git Tricks</h4><ul>
<li><code>git bisect</code></li>
<li><code>git show</code></li>
<li>`git diff</li>
<li><code>git add -i</code></li>
<li>Empty directories<ul>
<li>git <em>does not</em> save directories. only files. use <code>mkdir &lt;dir-name&gt; &amp;&amp; touch &lt;dir-name&gt;/empty &amp;&amp; git add ./&lt;dir-name&gt;</code> to keep an empty folder around in git. this makes your new directory and writes a 0KB file to the folder.</li>
</ul>
</li>
</ul>
<h4 id="Oh_Noes_My_Repo_is_Messed_Up">Oh Noes My Repo is Messed Up</h4><p><a href="http://justinhileman.info/article/git-pretty/git-pretty.png" target="_blank" rel="external">See the flow-chart here</a> on how you should proceed if your local repository is an unfixable mess.</p>
<p><a href="http://www-cs-students.stanford.edu/~blynn/gitmagic/" target="_blank" rel="external">The Best Git Reference Out There</a></p>
<h3 id="Operations">Operations</h3><h4 id="Monitoring">Monitoring</h4><p>Use a monitoring service. We need to know if our sites are not available. Both of these options are good.</p>
<ul>
<li>New Relic (<a href="https://slack-files.com/T02G6V7FQ-F07DMFRKP-5a417ff0c0" target="_blank" rel="external">install script</a>)</li>
<li>Google Webmaster Tools</li>
</ul>
<h4 id="CDNs">CDNs</h4><p>This is a must when building any website with a high number of pageviews. There’s no substitute for a CDN, so pick one and go with it.</p>
<ul>
<li>Cloudfront</li>
<li>Cachefly</li>
</ul>
<h3 id="Yeoman">Yeoman</h3><p>Yeoman is the tool of choice for keeping things consistent between different developers. A theme running throughout this document is that we ought to use machines to do the things which we are not good at doing.</p>
<h3 id="Browser_Requirements">Browser Requirements</h3><p>Generally all of our work should support the latest version of the four major browsers (Chrome, Firefox, Internet Explorer and Safari). It should also work on major mobile platforms. These requirements are usually established ahead of time, and may vary on different projects.</p>
<h3 id="Responsive_Sites">Responsive Sites</h3><p>Mobile traffic is oftentimes the majority of the traffic to anything we work on. But it is a challenge to work on something which should look great on every browser you load it on. Double your estimates when you’re asked to make it responsive.</p>
<p>Keep in mind that IE8 and below do not do media queries. For all the rest, <a href="http://zomigi.com/blog/essential-considerations-for-crafting-quality-media-queries/" target="_blank" rel="external">here’s a great discussion</a> which should answer most of the questions which arise such as:</p>
<ul>
<li>should media queries overlap or be mutually-exclusive (answer - overlap)</li>
<li>should a site be mobile-first or desktop-first (probably mobile-first)</li>
</ul>
<p>For <a href="http://responsiveimages.org/" target="_blank" rel="external">responsive images</a> we have a few options. These are the options available now as of July 2015.</p>
<ul>
<li>srcset</li>
<li>Twitter Bootstrap</li>
</ul>
<p>The overriding concern here is that a mobile device <em>should not</em> download images for a desktop browser unless necessary. There are some other folks who’ve done the testing, you can <a href="http://timkadlec.com/2012/04/media-query-asset-downloading-results/" target="_blank" rel="external">see their results here</a>. The main takeaways from these tests are:</p>
<ol>
<li>Use <code>background-image</code> liberally</li>
<li>Use <code>display: none</code> on the parents of elements with a <code>background-image</code></li>
</ol>
<p>Here’s what the code will look like for this</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id="test3"&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">#test3 div &#123;</span><br><span class="line">    background-image:url('images/test3.png');</span><br><span class="line">    width:200px;</span><br><span class="line">    height:75px;</span><br><span class="line">&#125;</span><br><span class="line">@media all and (max-width: 600px) &#123;</span><br><span class="line">    #test3 &#123;</span><br><span class="line">        display:none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The <a href="https://github.com/tkadlec/Media-Query-test" target="_blank" rel="external">test suite is available here</a>.</p>
<h3 id="Performance-1">Performance</h3><p>This is maybe one of the trickiest things to get right. Performance <em>is a feature</em> and one of the most important ones. A user’s patience is not forgiving, if your page takes more than 3.5 seconds to load, you may have a lot of users drop off.</p>
<p>So we have some tools available to us to achieve this 3.5 second load-time.</p>
<ul>
<li><a href="http://www.webpagetest.org/" target="_blank" rel="external">WebPageTest site</a></li>
<li><a href="https://github.com/tkadlec/grunt-perfbudget" target="_blank" rel="external">Grunt PerfTest</a> - uses webpagetest APIs</li>
<li><a href="http://apple.stackexchange.com/a/164964/13861" target="_blank" rel="external">Network Link Conditioner</a> - Mac only</li>
</ul>
<p>Finally, the Google website has a very in-depth <a href="https://developers.google.com/web/fundamentals/performance/index" target="_blank" rel="external">analysis of page performance techniques</a>.</p>
<p>If you have a web font with too many glyphs, this can really bog down your website. There is <a href="https://github.com/behdad/fonttools/blob/master/Lib/fontTools/subset.py" target="_blank" rel="external">a Python tool</a> which you can use to trim out glyphs which are not needed.</p>
<p>When considering CSS performance, know that the majority of work can be evaluated by multiplying the number of elements on a page by the number of selectors in your CSS. There are <a href="https://developers.google.com/web/fundamentals/performance/rendering/reduce-the-scope-and-complexity-of-style-calculations?hl=en" target="_blank" rel="external">other performance considerations though</a>, so relying on <a href="https://en.bem.info/" target="_blank" rel="external">a more methodical approach like BEM</a> may help out.</p>
<p>To avoid jagged clunky touch interactions, follow <a href="https://developers.google.com/web/fundamentals/performance/rendering/debounce-your-input-handlers" target="_blank" rel="external">the guidelines set out here</a>.</p>
<p>And do your animations in CSS, restricting your code to transforms and opacity calculations. For high-performance animations you might look into <a href="https://aerotwist.com/blog/flip-your-animations/" target="_blank" rel="external">the FLIP principle</a>. This technique mixes CSS &amp; JavaScript, using JS to do some math and build up CSS rules as strings, then applying those built-up styles within a call to <code>requestAnimationFrame()</code>.</p>
<p>It is also beneficial to warn the browser ahead of time about elements which are going to be animated. You can do so with a bit of CSS like this:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.moving-element</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">will-change</span>:<span class="value"> transform</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>For older browsers use the following instead:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.moving-element</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">translateZ</span>(<span class="number">0</span>)</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="Integrating_Social">Integrating Social</h3><p><a href="https://slack-files.com/T02G6V7FQ-F07KUCUPQ-bad6155ad6" target="_blank" rel="external">Here is an infographic with details on social media image requirements</a></p>
<h3 id="If_you_made_it_all_the_way_here:">If you made it all the way here:</h3><pre><code>      _
     /<span class="list">(<span class="keyword">|
    (  :
   __\  \  _____
 (____)  `|</span>
<span class="list">(<span class="keyword">____</span>)</span>|   |
 <span class="list">(<span class="keyword">____</span>)</span>.__|
  (___)__.|_____</span>
</code></pre><h3 id="Notes">Notes</h3><p>Inspired by these great guides. Best follow these as well, generally speaking.</p>
<ul>
<li><a href="http://isobar-idev.github.io/code-standards/" target="_blank" rel="external">Isobar Code Standards - the Original</a></li>
<li><a href="http://taitems.github.io/Front-End-Development-Guidelines/" target="_blank" rel="external">Tait Brown’s Front-End Dev Guidelines</a></li>
<li><a href="http://plug.c-k-dev.com/best-practices-development-guidelines/" target="_blank" rel="external">C-K Best Practices</a></li>
</ul>
<h3 id="Libaries/Frameworks/Tools_We_Love">Libaries/Frameworks/Tools We Love</h3><ul>
<li><a href="http://jquery.com" target="_blank" rel="external">jQuery</a></li>
<li><a href="http://lodash.com" target="_blank" rel="external">Lodash</a></li>
<li><a href="https://github.com/h5bp/html5-boilerplate" target="_blank" rel="external">HTML5 Boilerplate</a></li>
<li><a href="https://github.com/h5bp/mobile-boilerplate" target="_blank" rel="external">HTML5 Mobile Boilerplate</a></li>
</ul>
<h3 id="Tools">Tools</h3><ul>
<li><a href="https://chrome.google.com/webstore/detail/google-analytics-debugger/jnkmfdileelhofjcijamephohjechhna" target="_blank" rel="external">Google Analytics Debugger</a></li>
<li><a href="https://chrome.google.com/webstore/detail/edge-the-web-ruler/njlkegdphefeellhaongiopcfgcinikh" target="_blank" rel="external">Edge: Web Ruler</a></li>
<li><a href="https://chrome.google.com/webstore/detail/emmet-review/epejoicbhllgiimigokgjdoijnpaphdp" target="_blank" rel="external">Emmet: Re:View</a></li>
<li><a href="https://chrome.google.com/webstore/detail/json-formatter/bcjindcccaagfpapjjmafapmmgkkhgoa" target="_blank" rel="external">JSON Formatter</a></li>
<li><a href="https://chrome.google.com/webstore/detail/omnibug/bknpehncffejahipecakbfkomebjmokl" target="_blank" rel="external">Omnibug</a></li>
<li><a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop" target="_blank" rel="external">Postman</a></li>
<li><a href="http://fontsquirrel.com" target="_blank" rel="external">Font Squirrel</a></li>
<li><a href="https://chrome.google.com/webstore/detail/validity/bbicmjjbohdfglopkidebfccilipgeif" target="_blank" rel="external">Validity</a></li>
</ul>

      
    </div>
  
    <footer class="article-footer">
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/dev/tags/best-practices/">best-practices</a></li></ul>

    </footer>
  
  </div>
  
    
  
</article>

</section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Joystick Interactive&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    

<script src="/js/jquery.min.js"></script>



<script src="/dev/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>